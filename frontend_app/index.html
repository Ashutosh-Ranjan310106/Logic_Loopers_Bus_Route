<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Service Management</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        form { margin-bottom: 20px; }
        input, button { margin: 5px; }
    </style>
</head>
<body>

<h1>Bus Service Management System</h1>

<!-- User Management -->
<h2>User Management</h2>
<form id="userCreateForm" action="http://127.0.0.1:5002/user/create" method="POST">
    <h3>Create User</h3>
    <input type="text" name="name" placeholder="Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="text" name="gender" placeholder="Gender">
    <input type="text" name="phone_number" placeholder="Phone Number">
    <input type="password" name="password" placeholder="Password" required>
    <button type="submit">Create User</button>
</form>

<form id="userLoginForm" action="http://127.0.0.1:5002/user/login" method="POST">
    <h3>User Login</h3>
    <input type="text" name="email" placeholder="Email" required>
    <input type="text" name="phone_number" placeholder="Phone Number">
    <input type="password" name="password" placeholder="Password" required>
    <button type="submit">Login</button>
</form>

<form id="ticketForm" action="http://127.0.0.1:5002/user/ticket" method="POST">
    <h3>Book Ticket</h3>
    <input type="number" name="user_id" placeholder="User ID" required>
    <input type="number" name="route_id" placeholder="Route ID" required>
    <input type="number" name="starting_stop_number" placeholder="Starting Stop Number" required>
    <input type="number" name="ending_stop_number" placeholder="Ending Stop Number" required>
    <input type="text" name="gender" placeholder="Gender">
    <input type="text" name="category" placeholder="Bus Category">
    <button type="submit">Book Ticket</button>
</form>

<form id="fareForm" action="http://127.0.0.1:5002/user/fare" method="GET">
    <h3>Calculate Fare</h3>
    <input type="text" name="bus_number" placeholder="Bus Number" required>
    <input type="text" name="starting_stop_number" placeholder="Starting Stop Number" required>
    <input type="text" name="ending_stop_number" placeholder="Ending Stop Number" required>
    <input type="text" name="category" placeholder="Bus Category">
    <button type="submit">Calculate Fare</button>
</form>

<!-- Employee Management -->
<h2>Employee Management</h2>
<form id="employeeCreateForm" action="http://127.0.0.1:5002/employee/create" method="POST">
    <h3>Create Employee</h3>
    <input type="text" name="user_name" placeholder="Username">
    <input type="email" name="official_email" placeholder="Official Email" required>
    <input type="password" name="password" placeholder="Password" required>
    <input type="text" name="phone_number" placeholder="Phone Number">
    <input type="text" name="access_level_id" placeholder="Access Level ID">
    <input type="number" name="salary" placeholder="Salary" required>
    <button type="submit">Create Employee</button>
</form>

<form id="employeeLoginForm" action="http://127.0.0.1:5002/employee/login" method="POST">
    <h3>Employee Login</h3>
    <input type="email" name="official_email" placeholder="Official Email" required>
    <input type="password" name="password" placeholder="Password" required>
    <button type="submit">Login</button>
</form>

<form id="employeeLogoutForm" action="http://127.0.0.1:5002/employee/logout" method="POST">
    <h3>Employee Logout</h3>
    <input type="text" name="session_id" placeholder="Session ID" required>
    <button type="submit">Logout</button>
</form>

<!-- Bus Management -->
<h2>Bus Management</h2>
<form id="retrieveBusesForm" action="http://127.0.0.1:5001/buses" method="GET">
    <h3>Retrieve All Bus Routes</h3>
    <button type="submit">Get All Bus Routes</button>
</form>

<form id="retrieveRoutesForm" action="http://127.0.0.1:5001/buses/routes" method="GET">
    <h3>Retrieve Bus Routes by Number</h3>
    <input type="text" name="bus_number" placeholder="Bus Number" required>
    <button type="submit">Get Routes</button>
</form>

<form id="findPathForm" action="http://127.0.0.1:5001/buses/path" method="GET">
    <h3>Find Path Between Stops</h3>
    <input type="text" name="stop1" placeholder="Starting Stop" required>
    <input type="text" name="stop2" placeholder="Destination Stop" required>
    <button type="submit">Find Path</button>
</form>

<!-- Database Operations -->
<h2>Database Operations</h2>
<!-- Stop Management -->
<form id="addStopForm" action="http://127.0.0.1:5003/database/stop/add" method="POST">
    <h3>Add Stops</h3>
    <input type="text" name="session_id" placeholder="Session ID" required>
    <input type="file" name="file" required>
    <button type="submit">Add Stops</button>
</form>

<form id="getStopsForm" action="http://127.0.0.1:5003/database/stop/get" method="GET">
    <h3>Get Stops</h3>
    <input type="text" name="partial_name" placeholder="Partial Stop Name">
    <button type="submit">Get Stops</button>
</form>

<!-- Route Management -->
<form id="addRouteForm" action="http://127.0.0.1:5003/database/route/add" method="POST">
    <h3>Add Routes</h3>
    <input type="text" name="session_id" placeholder="Session ID" required>
    <input type="file" name="file" required>
    <button type="submit">Add Routes</button>
</form>

<form id="addStopToRouteForm" action="http://127.0.0.1:5003/database/route/addstop" method="POST">
    <h3>Add Stops to Existing Route</h3>
    <input type="text" name="session_id" placeholder="Session ID" required>
    <input type="text" name="bus_no" placeholder="Bus Number" required>
    <input type="file" name="file" required>
    <button type="submit">Add Stops</button>
</form>

<form id="deleteRouteForm" action="http://127.0.0.1:5003/database/route/delete" method="POST">
    <h3>Delete Route</h3>
    <input type="text" name="session_id" placeholder="Session ID" required>
    <input type="text" name="bus_number" placeholder="Bus Number" required>
    <button type="submit">Delete Route</button>
</form>

<!-- Schedule Management -->
<form id="deleteScheduleForm" action="http://127.0.0.1:5003/database/schedule/delete" method="POST">
    <h3>Delete Schedule</h3>
    <input type="text" name="session_id" placeholder="Session ID" required>
    <input type="text" name="schedule_id" placeholder="Schedule ID" required>
    <button type="submit">Delete Schedule</button>
</form>

<form id="getScheduleForm" action="http://127.0.0.1:5003/database/schedule/get" method="POST">
    <h3>Get Schedule</h3>
    <input type="text" name="session_id" placeholder="Session ID" required>
    <input type="text" name="bus_number" placeholder="Bus Number" required>
    <button type="submit">Get Schedule</button>
</form>

<!-- Ticket Management -->
<form id="addTicketForm" action="http://127.0.0.1:5003/database/ticket/add" method="POST">
    <h3>Book Offline Ticket</h3>
    <input type="text" name="route_id" placeholder="Route ID" required>
    <input type="number" name="price" placeholder="Price" required>
    <input type="text" name="bus_number" placeholder="Bus Number" required>
    <button type="submit">Book Ticket</button>
</form>


<script>
    async function createUser(event) {
        event.preventDefault(); // Prevent default form submission
    
        // Gather form data
        const form = document.getElementById('userCreateForm');
        const formData = new FormData(form);
    
        // Convert form data to JSON
        const data = {};
        formData.forEach((value, key) => (data[key] = value));
    
        // Send JSON data with fetch
        const response = await fetch("http://127.0.0.1:5002/user/create", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(data)
        });
    
        const result = await response.json();
        if (response.ok) {
            alert(result.message); // Success
        } else {
            alert(result.message); // Error
        }
    }
</script>


</body>
</html>
